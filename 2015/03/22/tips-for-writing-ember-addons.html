<!DOCTYPE html><html><head><title>Tips for writing Ember Addons</title><link href="/stylesheets/all-84f1eb0e.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-ce68a29a.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta charset='utf-8'><meta content='DockYard.com - ' name='description'><meta content='bcardarella' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/2015/03/22/tips-for-writing-ember-addons.html' name='twitter:url'><meta content='Tips for writing Ember Addons' name='twitter:title'><meta name='twitter:description'><link href='//cloud.typography.com/6496052/702882/css/fonts.css' rel='stylesheet' type='text/css'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/favicon-573a5e34.png' rel='shortcut icon' type='image/x-icon'><link href='/favicon-573a5e34.png' rel='icon' type='image/x-icon'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><link href='/atom.xml' rel='alternate' title='DockYard - Reefpoints' type='application/atom+xml'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                             ..
                                           .O.
                                       .:OO.
                                      :OOO.
                                    :OOO:.
                         ...      :OOOO:
                   ..ZOOOOOOOOO..OZ.O.
                   OOOOOOOOOOOOOOOOI
                  OOOOOOOOOOOOOOOOI,
                 OOOOOOOO. .OOOOOOOO:
                 OOOOOOOO   OOOOOOOOO:
                OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO
                OOOOOO?:   .OOOOOOOOO
               .OOOOO      OOOOOOOOOO
,OO ZO,        OOOOO,     OOOOOOOOOO+
 OOOOO.        OOOOO     OOOOOOOOOOO+
  OOO?        OOOOO     .OOOOOOOOOOO:
   OOO,      OOOOO.    .OOOOOOOOOOOO
    OOOOOOOOOOOOO.    .OOOOOOOOOOOO.
     OOOOOOOOOOOO.  .OOOOOOOOOOOOO.
      8OOOOOOOOOOOOOOOOOOOOOOOODO:
         :OOOOOOOOOOOOOOOOOOOO::

--></head><body class='x2015 x2015_03 x2015_03_22 x2015_03_22_tips-for-writing-ember-addons'><header><div class='extended-nav-wrap'><div class='l-wrap--wide'><nav class='extended-nav'><a class="extended-nav--logo" data-icon="⌂" href="http://dockyard.com/"><span class='is-hidden'>Home</span></a>
<a class="extended-nav--close" data-icon="X" href="#"><span class='is-hidden'>Close</span></a><div class='extended-nav__items'><div class='extended-nav__items--mobile'><a class="extended-nav__item--work extended-nav__item" href="#">Work</a><nav class='work-nav--mobile'><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong></a>
<a href="http://dockyard.com/work/scratch" class="work-nav-item"><strong class='work-nav-item__title'>Scratch Wireless</strong></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong></a></nav></div><a class="extended-nav__item" href="http://dockyard.com/team">Our Team</a><a class="extended-nav__item" href="http://dockyard.com/process">Process</a><a class="extended-nav__item" href="http://dockyard.com/community">Community</a><a class="extended-nav__item active" href="/">Blog</a><a class="extended-nav__item" href="http://dockyard.com/hire-us">Hire Us</a></div></nav><nav class='work-nav'><h6>Selected Work</h6><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong><p>Credit card advice from real people.</p></a>
<a href="http://dockyard.com/work/scratch" class="work-nav-item"><strong class='work-nav-item__title'>Scratch Wireless</strong><p>Never pay another penny for smartphone service.</p></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong><p>You should be training. Right now.</p></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong><p>Ask officials questions on city, state, and federal levels.</p></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong><p>How technology helped repeal the #TechTax.</p></a></nav></div></div><nav class='main-nav-wrap'><div class='main-nav l-wrap--wide'><a class="logo" href="http://dockyard.com">DockYard</a><a class="club-sandwich" data-icon="☰" href="#"><span class='is-hidden'>Navigation</span></a></div></nav></header><div class='push--header'></div><div class='l-wrap--blog'><a href="/"><strong class='logo--blog'>ReefPoints</strong><strong class='logo--blog__tagline'>Blog</strong></a><nav class='blog-nav'><a class="blog-nav__item " href="/">Posts</a><a class="blog-nav__item " href="/categories.html">Categories</a><a class="blog-nav__item " href="/authors.html">Authors</a></nav></div><div class='l-wrap--blog__post'><h1 class='post__title'>Tips for writing Ember Addons</h1><a class="post__author" href="/authors/brian-cardarella.html">Brian Cardarella</a><time class='post__date'>March 22<sup>nd</sup>, 2015</time><div class='post__content'><p>After having published many Ember addons I have started to develop my
own sense of &quot;Best Practices&quot; and I&#39;d like to share those with you:</p>

<h2>1. Keep it minimal, don&#39;t include stylesheets</h2>

<p>I see quite a few addons out there that include their own look &amp; feel by
including sytlesheets. I actually think this is a bad idea. <em>Keep in
mind, every line of code you put into your addon will end up in the
final footprint of the apps consuming it</em>. This means if you are
including stylesheets those will end up in <code>vendor.css</code>. The odds are
that whatever styles you decide look good, someone else might not.
They&#39;ll waste even more space by including their own overrides. This is
wasteful.</p>

<p>Instead, you should <em>keep it minimal</em>. See
<a href="https://github.com/dockyard/ember-admin">ember-admin</a>. I intentionally
did not style the addon so it is left as minimal as possible. If you
want to show off a styled version of the addon, you can either include
styles in the dummy app&#39;s styles for the addon&#39;s test dummy. Allow
people to run the addon&#39;s server locally and view what could be. Or, you
can include an addon wrapper library that depends upon your addon. This
wrapper can include default styles that consumers may choose not to
alter. For example,
<a href="https://github.com/dockyard/ember-admin-bootstrap">ember-admin-bootstrap</a>
styles ember-admin with Twitter Bootstrap. If this is good enough for
you then you just install this library and it pulls in ember-admin but
gives you some nice styling that you don&#39;t have to spend time doing.</p>

<h2>2. Allow for overrides</h2>

<p>I believe strongly in composable addons. A consumer should have the
ability to easily extend your addon to do whatever they want. This means
organizing your code a certain way. To provide this you should put all
of your business logic into <code>addon/</code> and then include wrapper classes in
<code>app/</code> that just <code>import</code> then <code>export</code> the extended class. For example:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="comment">// addon/components/foo-bar.js</span>
<span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;
<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="comment">// business logic</span>
});

<span class="comment">// app/components/foo-bar.js</span>
<span class="reserved">import</span> FooBar from <span class="string"><span class="delimiter">'</span><span class="content">my-addon/components/foo-bar</span><span class="delimiter">'</span></span>;
<span class="reserved">export</span> <span class="keyword">default</span> FooBar;
</pre></td>
</tr></table>
</div></div>
<p>These light wrapper classes <strong>should not</strong> include any business logic.
Again, they simply <code>import</code> then <code>export</code> the extended class. This gives
consumers the option of overriding this in their own
<code>app/components/foo-bar.js</code> file to extend and add customization.</p>

<h2>3. Turn off Prototype Extensions</h2>

<p>Currently ember-cli will not generate an addon project with Prototype
Extensions turn off. However, <a href="https://github.com/ember-cli/ember-cli/issues/3443">I have requested this be the
default</a>. Turning
off Prototype Extensions will cause the following syntax to fail in
your addon&#39;s test suite:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="function">foo</span>: <span class="keyword">function</span>() {
  <span class="comment">// whatever</span>
}.property(<span class="string"><span class="delimiter">'</span><span class="content">bar</span><span class="delimiter">'</span></span>)
</pre></td>
</tr></table>
</div></div>
<p>There are several syntax shortcuts that Ember injects into the base
Types. Arrays have quite a bit. Turning off Prototype Extensions will
force you to write the above code as:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>foo: Ember.computed(<span class="string"><span class="delimiter">'</span><span class="content">bar</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
  <span class="comment">// whatever</span>
})
</pre></td>
</tr></table>
</div></div>
<p>And this will play nice with consumer applications that must run with
the Prototype Extensions turned off.</p>

<p><a href="https://github.com/emberjs/ember.js/issues/10590">It should be noted that Ember 1.10 has a bug where turning off Prototype
Extensions causes Ember itself to
fail</a>. This should be
fixed in 1.11 (<strong>Update: This has been addressed in <a href="https://github.com/emberjs/ember.js/pull/10697">Ember</a>.</strong>).</p>

<p>Avoiding Prototype Extensions can be difficult. I plan on writing a
future blog post to outline certain strategies to duplicate the behavior
that you miss out on without Prototype Extensions.</p>

<p>To turn off Prototype Extensions you&#39;ll need to install the <code>ember-disable-prototype-extensions</code>:</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>npm install --save-dev ember-disable-prototype-extensions
</pre></td>
</tr></table>
</div></div>
<p>See
<a href="https://github.com/dockyard/ember-validations/pull/270">ember-validations</a>
for an example.</p>

<h2>4. Test your addon</h2>

<p>This one should go without saying but I have seen <em>way</em> too many addons
out there that are untested (the generated tests don&#39;t count). Please
keep in mind that there are people building products that might consume
your work. Untested code is just one more thing that could go wrong in
someone&#39;s app. If unit testing the code is too difficult, at the very
least write integration tests against the dummy application to ensure
the happy paths.</p>

<h2>5. Depend on other addons</h2>

<p>You may not know this but addons can depend upon addons. Rather than
recreating behavior per-addon it would be best to extract out common
behavior to its own dependency. For example,
<a href="https://github.com/dockyard/ember-data-route">ember-data-route</a> and
<a href="https://github.com/dockyard/ember-cli-async-button">ember-cli-async-button</a>
are both being used in
<a href="https://github.com/dockyard/ember-admin/blob/master/package.json#L21-L23">ember-admin</a>.</p>

<p>To use an addon as a dependency it <em>must</em> be put into the <code>dependencies</code>
object in <code>package.json</code>, <strong>not</strong> <code>devDependencies</code>. You may need to
add this keyword to your <code>package.json</code> as it is not part of the
auto-generated file.</p>

<p>Ember&#39;s addon eco-system is getting better every day, and as a community
we are learning as we grow how best to build and maintain addons. I&#39;m
hoping you find these tips helpful. Please feel free to share your own
in the comments below. </p>
</div><div class='post__share'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/2015/03/22/tips-for-writing-ember-addons.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script><span class='post__share--github'>If you see an issue, please send a <a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/', class='text-link post__issue', target: '_blank'>pull request</a> to contribute.</span></div><div class='related-posts-wrap'><div class='post__avatar-wrap'><img class='post__avatar' src='/images/team/brian-cardarella.jpg'><h5 class='post__avatar__name'>Brian Cardarella</h5><h5 class='post__avatar__position headline--sub'>CEO At DockYard
</h5><nav class='post__avatar__social-links'><a target="_blank" class="post__avatar__social-link--twitter" data-icon="#" href="http://twitter.com/bcardarella">bcardarella</a></nav></div><div class='related-posts'><h3 class='related-posts__header headline--sub'>Other posts by Brian</h3><a class="related-post" href="/2015/05/21/sign-up-for-the-dockyard-newsletter.html"><h2 class='related-post__title'>Sign Up For The DockYard Newsletter</h2><p>May 21<sup>st</sup>, 2015</p></a>
<a class="related-post" href="/2015/05/20/the-new-dockyard-dot-com.html"><h2 class='related-post__title'>The New DockYard.com</h2><p>May 20<sup>th</sup>, 2015</p></a>
<a class="related-posts-link text-link" href="/authors/brian-cardarella.html">See all 82 posts by Brian</a></div></div><p class='post__tags'><a class="post__tag" href="/categories/ember.html">Ember.js&nbsp;<span class='post__tag__count'>(43)</span></a> <a class="post__tag" href="/categories/javascript.html">JavaScript&nbsp;<span class='post__tag__count'>(19)</span></a></p><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus</a>.</noscript></noscript><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.post__issue').attr('href', newpath);
</script></div><div class='push--footer'></div><footer><div class='l-wrap'><div class='l-footer-group'><h3 class='footer-group__title'>EVENTS</h3><a class="footer__event--wgc" target="_blank" href="http://wickedgoodember.com/">Wicked Good Ember Conf</a><a class="footer__event--ember" target="_blank" href="http://www.meetup.com/Boston-Ember-js/">Boston Ember.js Meetup</a><a class="footer__event--openhack" target="_blank" href="http://openhack.github.io/boston/">OpenHack Boston</a><a class="footer__event--ux" target="_blank" href="http://www.meetup.com/uxboston/">UX Boston Meetup</a><a class="footer__event--swift" target="_blank" href="http://www.meetup.com/Boston-Swift/">Boston Swift</a><a class="footer__event--uxhh" target="_blank" href="http://www.uxhappyhour.com/bos">UX Happy Hour</a></div><div class='l-footer-group'><a href="/"><h3 class='footer-group__title'>BLOG</h3></a>
<a class="footer__post" href="/2015/06/19/execcommand-blog-post.html"><strong>Copy to Clipboard without Using Flash!</strong><h6 class='footer-desc'>`document.execCommand()` has now added support for `copy` in some browsers</h6></a>
<a class="footer__post" href="/2015/06/12/maintaining-session-in-phoenix-integration-tests.html"><strong>Maintaining a session in Phoenix integration tests</strong><h6 class='footer-desc'>Your server has authentication, and you want to be authenticated in your tests</h6></a>
<a class="footer__post" href="/2015/06/09/ux-camp-2015.html"><strong>Go: UX Camp 2015</strong><h6 class='footer-desc'>A weekend away for design collaboration and learning.</h6></a></div><div class='l-footer-group'><a href="http://dockyard.com/hire-us"><h3 class='footer-group__title'>CONTACT</h3></a><h6 class='footer-desc'>DockYard HQ is located in Boston. Stop in sometime and meet our team!</h6><a class="footer__address" target="_blank" href="http://goo.gl/maps/zBGfn"><h6>DockYard Inc.<br>294 Washington St<br>Suite 1150<br>Boston, MA 02108</h6></a>
<a class="text-link" href="http://dockyard.com/hire-us">Get in touch.</a><div class='social-links--footer'><a target="_blank" data-icon="#" class="social-link" href="https://twitter.com/dockyard"><span class='is-hidden'>Twitter</span></a>
<a target="_blank" data-icon="★" class="social-link" href="https://github.com/dockyard"><span class='is-hidden'>GitHub</span></a>
<a target="_blank" data-icon="✒" class="social-link" href="/atom.xml"><span class='is-hidden'>RSS</span></a></div></div></div></footer><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
