<!DOCTYPE html><html><head><title>DismissibleHelpers released</title><link href="/stylesheets/all-84f1eb0e.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-ce68a29a.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta charset='utf-8'><meta content='DockYard.com - Add simple to implement help text that users can dismiss' name='description'><link href='https://plus.google.com/102648938707671188640' rel='author'><meta content='_danmcclain' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/ruby/2013/01/04/dismissible_helpers-released.html' name='twitter:url'><meta content='DismissibleHelpers released' name='twitter:title'><meta content='Add simple to implement help text that users can dismiss' name='twitter:description'><link href='//cloud.typography.com/6496052/702882/css/fonts.css' rel='stylesheet' type='text/css'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/favicon-573a5e34.png' rel='shortcut icon' type='image/x-icon'><link href='/favicon-573a5e34.png' rel='icon' type='image/x-icon'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><link href='/atom.xml' rel='alternate' title='DockYard - Reefpoints' type='application/atom+xml'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                             ..
                                           .O.
                                       .:OO.
                                      :OOO.
                                    :OOO:.
                         ...      :OOOO:
                   ..ZOOOOOOOOO..OZ.O.
                   OOOOOOOOOOOOOOOOI
                  OOOOOOOOOOOOOOOOI,
                 OOOOOOOO. .OOOOOOOO:
                 OOOOOOOO   OOOOOOOOO:
                OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO
                OOOOOO?:   .OOOOOOOOO
               .OOOOO      OOOOOOOOOO
,OO ZO,        OOOOO,     OOOOOOOOOO+
 OOOOO.        OOOOO     OOOOOOOOOOO+
  OOO?        OOOOO     .OOOOOOOOOOO:
   OOO,      OOOOO.    .OOOOOOOOOOOO
    OOOOOOOOOOOOO.    .OOOOOOOOOOOO.
     OOOOOOOOOOOO.  .OOOOOOOOOOOOO.
      8OOOOOOOOOOOOOOOOOOOOOOOODO:
         :OOOOOOOOOOOOOOOOOOOO::

--></head><body class='ruby ruby_2013 ruby_2013_01 ruby_2013_01_04 ruby_2013_01_04_dismissible_helpers-released'><header><div class='extended-nav-wrap'><div class='l-wrap--wide'><nav class='extended-nav'><a class="extended-nav--logo" data-icon="⌂" href="http://dockyard.com/"><span class='is-hidden'>Home</span></a>
<a class="extended-nav--close" data-icon="X" href="#"><span class='is-hidden'>Close</span></a><div class='extended-nav__items'><div class='extended-nav__items--mobile'><a class="extended-nav__item--work extended-nav__item" href="#">Work</a><nav class='work-nav--mobile'><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong></a>
<a href="http://dockyard.com/work/scratch" class="work-nav-item"><strong class='work-nav-item__title'>Scratch Wireless</strong></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong></a></nav></div><a class="extended-nav__item" href="http://dockyard.com/team">Our Team</a><a class="extended-nav__item" href="http://dockyard.com/process">Process</a><a class="extended-nav__item" href="http://dockyard.com/community">Community</a><a class="extended-nav__item active" href="/">Blog</a><a class="extended-nav__item" href="http://dockyard.com/hire-us">Hire Us</a></div></nav><nav class='work-nav'><h6>Selected Work</h6><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong><p>Credit card advice from real people.</p></a>
<a href="http://dockyard.com/work/scratch" class="work-nav-item"><strong class='work-nav-item__title'>Scratch Wireless</strong><p>Never pay another penny for smartphone service.</p></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong><p>You should be training. Right now.</p></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong><p>Ask officials questions on city, state, and federal levels.</p></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong><p>How technology helped repeal the #TechTax.</p></a></nav></div></div><nav class='main-nav-wrap'><div class='main-nav l-wrap--wide'><a class="logo" href="http://dockyard.com">DockYard</a><a class="club-sandwich" data-icon="☰" href="#"><span class='is-hidden'>Navigation</span></a></div></nav></header><div class='push--header'></div><div class='l-wrap--blog'><a href="/"><strong class='logo--blog'>ReefPoints</strong><strong class='logo--blog__tagline'>Blog</strong></a><nav class='blog-nav'><a class="blog-nav__item " href="/">Posts</a><a class="blog-nav__item " href="/categories.html">Categories</a><a class="blog-nav__item " href="/authors.html">Authors</a></nav></div><div class='l-wrap--blog__post'><h1 class='post__title'>DismissibleHelpers released</h1><a class="post__author" href="/authors/dan-mcclain.html">Dan McClain</a><time class='post__date'>January 4<sup>th</sup>, 2013</time><div class='post__content'><p>Have an application where you want to add some help text for the user,
but they really only need to see it once? With the
<a href="https://github.com/dockyard/dismissible_helpers"><code>dismissible_helpers</code></a>
gem, you can quickly add dismissible help text to your application.</p>

<ul>
<li><a href="https://github.com/dockyard/dismissible_helpers">View the project on GitHub</a></li>
<li><a href="http://dismissible-helpers-example.herokuapp.com/">View the demo here</a></li>
<li><a href="https://github.com/dockyard/dismissible_helpers_example">View the demo source code</a></li>
</ul>

<h2>What you get</h2>

<p>DismissibleHelpers includes:</p>

<ul>
<li>DismissibleHelpers View Helper - Renders the help text only if the visitor
has not dismissed it</li>
<li>DismissedHelpers Routes and controller - Handles the JavaScript requests
to store the dismissal state</li>
<li>DismissedHelpers Javascript - Handles the front end interactions with
the help text</li>
</ul>

<p>By default, <code>dismissible_helpers</code> will use a cookie to store the
dismissal status of the help text.</p>

<h2>Three minute setup</h2>

<p>To start using <code>dismissible_helpers</code> without any customization, you only
three steps away.</p>

<ol>

  <li><p> Add <code>dismissible_helpers_routes</code> to your <code>config/routes.rb</code>

```ruby
YourApplication::Application.routes.draw do
  dismissible_helpers_routes

  # Your other routes
end```
  </p></li>

  <li><p> Add the Javascript: Add the following to your <code>app/assets/javascripts/application.js</code>.

```javascript
// Your other require statments
//=require dismissible_helpers
//=require_self

$(function(){
  $('.dismissible').dismissible()
})```
  </p></li>

  <li><p> Call the <code>render_dismissible_helper</code> method with the string you want to
       render. The string passed to the method will be processed by the I18n method
       <code>t</code>, so the content of the help message should be stored in your localization
       file.

```erb
<%= render_dismissible_helper 'help.some_help_message' %>
```
  </p></li>

</ol>

<h2>Advanced setup</h2>

<h3>Changing the way the help text is removed</h3>

<p>By default, the dismissed helper is removed from the page via
<code>$(helper).remove()</code>. This can be customized by passing a callback to the
<code>.dismissible()</code> call. To use jQuery&#39;s <code>.slideUp()</code> you would use the
following call:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="predefined">$</span>(<span class="keyword">function</span>(){
  <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">.dismissible</span><span class="delimiter">'</span></span>).dismissible({
    <span class="function">success</span>: <span class="keyword">function</span>(helper){
      helper.slideUp(); <span class="comment">//'helper' is the jQuery-wrapped element</span>
    }
  });
});
</pre></td>
</tr></table>
</div></div>
<h3>Storing dismissed helpers for authenticated users</h3>

<p><code>dismissible_helpers</code> can store the help text dismissal state on a
user/account. That way, when a user dismisses some help text, it follows
them across browsers.</p>

<p><code>dismissible_helpers</code> will attempt to retrieve the authenticated user by
checking for a <code>current_user</code> helper method. If the
ApplicationController responds to <code>current_user</code>, <code>dismissible_helpers</code>
will check to see if the returned object has a <code>dismissed_helpers</code>
attribute. It will then add the dismissed help text to that model.</p>

<p><code>dismissible_helpers</code> expects that the <code>dismissed_helpers</code> attribute is
an array. With vanilla ActiveRecord, you can achieve this with attribute
serialization:</p>

<p>First, add the column to your model (we&#39;ll assume it&#39;s an Account class
in this example)</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">AddDismissedHelpersToAccounts</span> &lt; <span class="constant">ActiveRecord</span>::<span class="constant">Migration</span>
  <span class="keyword">def</span> <span class="function">up</span>
    add_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>, <span class="symbol">:text</span>
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">down</span>
    remove_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>Then add the <code>serialize</code> call to your model</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">Account</span> &lt; <span class="constant">ActiveRecord</span>::<span class="constant">Base</span>
  serialize <span class="symbol">:dismissed_helpers</span>, <span class="constant">Array</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<p>If you are using PostgreSQL as your database, you could use
<a href="https://github.com/dockyard/postgres_ext">postgres_ext</a> to
add native array support to your models. You would just need the
following migration to add the dismissed_helpers attribute
to your model:</p>
<div class="highlight ruby "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="keyword">class</span> <span class="class">AddDismissedHelpersToAccounts</span> &lt; <span class="constant">ActiveRecord</span>::<span class="constant">Migration</span>
  <span class="keyword">def</span> <span class="function">up</span>
    add_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>, <span class="symbol">:string</span>, <span class="symbol">:array</span> =&gt; <span class="predefined-constant">true</span>
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">down</span>
    remove_column <span class="symbol">:accounts</span>, <span class="symbol">:dismissed_helpers</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre></td>
</tr></table>
</div></div>
<h2>Wrapping up</h2>

<p>Hopefully you find the gem useful. If you find any issues with it, 
<a href="https://github.com/dockyard/dismissible_helpers/issues">let us know</a>!</p>
</div><div class='post__share'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/ruby/2013/01/04/dismissible_helpers-released.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script><span class='post__share--github'>If you see an issue, please send a <a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/', class='text-link post__issue', target: '_blank'>pull request</a> to contribute.</span></div><div class='related-posts-wrap'><div class='post__avatar-wrap'><img class='post__avatar' src='/images/team/dan-mcclain.jpg'><h5 class='post__avatar__name'>Dan McClain</h5><h5 class='post__avatar__position headline--sub'>Partner &amp; Developer At DockYard
</h5><nav class='post__avatar__social-links'><a target="_blank" class="post__avatar__social-link--twitter" data-icon="#" href="http://twitter.com/_danmcclain">_danmcclain</a><a target="_blank" class="post__avatar__social-link--github" data-icon="★" href="https://github.com/danmcclain">danmcclain</a></nav></div><div class='related-posts'><h3 class='related-posts__header headline--sub'>Other posts by Dan</h3><a class="related-post" href="/2015/06/12/maintaining-session-in-phoenix-integration-tests.html"><h2 class='related-post__title'>Maintaining a session in Phoenix integration tests</h2><p>June 12<sup>th</sup>, 2015</p></a>
<a class="related-post" href="/2015/06/08/a-clean-pattern-for-modal-dialogs.html"><h2 class='related-post__title'>A clean pattern for modal dialogs</h2><p>June 8<sup>th</sup>, 2015</p></a>
<a class="related-posts-link text-link" href="/authors/dan-mcclain.html">See all 24 posts by Dan</a></div></div><p class='post__tags'><a class="post__tag" href="/categories/ruby.html">Ruby&nbsp;<span class='post__tag__count'>(49)</span></a> <a class="post__tag" href="/categories/ruby-on-rails.html">Ruby on Rails&nbsp;<span class='post__tag__count'>(37)</span></a> <a class="post__tag" href="/categories/gems.html">Gems&nbsp;<span class='post__tag__count'>(10)</span></a></p><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus</a>.</noscript></noscript><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.post__issue').attr('href', newpath);
</script></div><div class='push--footer'></div><footer><div class='l-wrap'><div class='l-footer-group'><h3 class='footer-group__title'>EVENTS</h3><a class="footer__event--wgc" target="_blank" href="http://wickedgoodember.com/">Wicked Good Ember Conf</a><a class="footer__event--ember" target="_blank" href="http://www.meetup.com/Boston-Ember-js/">Boston Ember.js Meetup</a><a class="footer__event--openhack" target="_blank" href="http://openhack.github.io/boston/">OpenHack Boston</a><a class="footer__event--ux" target="_blank" href="http://www.meetup.com/uxboston/">UX Boston Meetup</a><a class="footer__event--swift" target="_blank" href="http://www.meetup.com/Boston-Swift/">Boston Swift</a><a class="footer__event--uxhh" target="_blank" href="http://www.uxhappyhour.com/bos">UX Happy Hour</a></div><div class='l-footer-group'><a href="/"><h3 class='footer-group__title'>BLOG</h3></a>
<a class="footer__post" href="/2015/06/19/execcommand-blog-post.html"><strong>Copy to Clipboard without Using Flash!</strong><h6 class='footer-desc'>`document.execCommand()` has now added support for `copy` in some browsers</h6></a>
<a class="footer__post" href="/2015/06/12/maintaining-session-in-phoenix-integration-tests.html"><strong>Maintaining a session in Phoenix integration tests</strong><h6 class='footer-desc'>Your server has authentication, and you want to be authenticated in your tests</h6></a>
<a class="footer__post" href="/2015/06/09/ux-camp-2015.html"><strong>Go: UX Camp 2015</strong><h6 class='footer-desc'>A weekend away for design collaboration and learning.</h6></a></div><div class='l-footer-group'><a href="http://dockyard.com/hire-us"><h3 class='footer-group__title'>CONTACT</h3></a><h6 class='footer-desc'>DockYard HQ is located in Boston. Stop in sometime and meet our team!</h6><a class="footer__address" target="_blank" href="http://goo.gl/maps/zBGfn"><h6>DockYard Inc.<br>294 Washington St<br>Suite 1150<br>Boston, MA 02108</h6></a>
<a class="text-link" href="http://dockyard.com/hire-us">Get in touch.</a><div class='social-links--footer'><a target="_blank" data-icon="#" class="social-link" href="https://twitter.com/dockyard"><span class='is-hidden'>Twitter</span></a>
<a target="_blank" data-icon="★" class="social-link" href="https://github.com/dockyard"><span class='is-hidden'>GitHub</span></a>
<a target="_blank" data-icon="✒" class="social-link" href="/atom.xml"><span class='is-hidden'>RSS</span></a></div></div></div></footer><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
