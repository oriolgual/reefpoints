<!DOCTYPE html><html><head><title>Vim: Staying on Home Row via Map</title><link href="/stylesheets/all-84f1eb0e.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all-ce68a29a.js" type="text/javascript"></script><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><meta content='DockYard is a Ruby on Rails, PostgreSQL, and, Ember.js, web / mobile application development software consultancy based in Boston, MA.' namer='description'><meta content='ruby on rails, rails, ruby, ruby on rails training, ruby application development, ruby on rails application development, ember application development, ember.js application development, software application development, web, web application development, mobile, mobile application development, ios, ios application development, iphone, iphone application development, android, android application development, postgres, startups, enterprise, Boston, MA, Massachusetts, for hire' name='keywords'><meta content='web development, mobile development, startups, enterprise, ruby on rails, rails, ruby, ruby on rails training, Boston, for hire' name='keywords'><meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'><meta charset='utf-8'><meta content='DockYard.com - Map commands for quick escapes and saves' name='description'><meta content='DougYun' name='twitter:creator'><meta content='summary' name='twitter:card'><meta content='@DockYard' name='twitter:site'><meta content='http://reefpoints.dockyard.com/2013/09/11/vim-staying-on-home-row-via-map.html' name='twitter:url'><meta content='Vim: Staying on Home Row via Map' name='twitter:title'><meta content='Map commands for quick escapes and saves' name='twitter:description'><link href='//cloud.typography.com/6496052/702882/css/fonts.css' rel='stylesheet' type='text/css'><link href='http://dockyard.com/humans.txt' rel='author'><link href='/favicon-573a5e34.png' rel='shortcut icon' type='image/x-icon'><link href='/favicon-573a5e34.png' rel='icon' type='image/x-icon'><link href='/apple-touch-icon.png' rel='apple-touch-icon'><link href='/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'><link href='/atom.xml' rel='alternate' title='DockYard - Reefpoints' type='application/atom+xml'><script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24185112-2']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
<!--
                                             ..
                                           .O.
                                       .:OO.
                                      :OOO.
                                    :OOO:.
                         ...      :OOOO:
                   ..ZOOOOOOOOO..OZ.O.
                   OOOOOOOOOOOOOOOOI
                  OOOOOOOOOOOOOOOOI,
                 OOOOOOOO. .OOOOOOOO:
                 OOOOOOOO   OOOOOOOOO:
                OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO:
               .OOOOOOOOOOOOOOOOOOOOO.
                OOOOOOOOOOOOOOOOOOOOO
                OOOOOO?:   .OOOOOOOOO
               .OOOOO      OOOOOOOOOO
,OO ZO,        OOOOO,     OOOOOOOOOO+
 OOOOO.        OOOOO     OOOOOOOOOOO+
  OOO?        OOOOO     .OOOOOOOOOOO:
   OOO,      OOOOO.    .OOOOOOOOOOOO
    OOOOOOOOOOOOO.    .OOOOOOOOOOOO.
     OOOOOOOOOOOO.  .OOOOOOOOOOOOO.
      8OOOOOOOOOOOOOOOOOOOOOOOODO:
         :OOOOOOOOOOOOOOOOOOOO::

--></head><body class='x2013 x2013_09 x2013_09_11 x2013_09_11_vim-staying-on-home-row-via-map'><header><div class='extended-nav-wrap'><div class='l-wrap--wide'><nav class='extended-nav'><a class="extended-nav--logo" data-icon="⌂" href="http://dockyard.com/"><span class='is-hidden'>Home</span></a>
<a class="extended-nav--close" data-icon="X" href="#"><span class='is-hidden'>Close</span></a><div class='extended-nav__items'><div class='extended-nav__items--mobile'><a class="extended-nav__item--work extended-nav__item" href="#">Work</a><nav class='work-nav--mobile'><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong></a>
<a href="http://dockyard.com/work/scratch" class="work-nav-item"><strong class='work-nav-item__title'>Scratch Wireless</strong></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong></a></nav></div><a class="extended-nav__item" href="http://dockyard.com/team">Our Team</a><a class="extended-nav__item" href="http://dockyard.com/process">Process</a><a class="extended-nav__item" href="http://dockyard.com/community">Community</a><a class="extended-nav__item active" href="/">Blog</a><a class="extended-nav__item" href="http://dockyard.com/hire-us">Hire Us</a></div></nav><nav class='work-nav'><h6>Selected Work</h6><a href="http://dockyard.com/work/credit-card-reviews" class="work-nav-item"><strong class='work-nav-item__title'>Credit Card Reviews</strong><p>Credit card advice from real people.</p></a>
<a href="http://dockyard.com/work/scratch" class="work-nav-item"><strong class='work-nav-item__title'>Scratch Wireless</strong><p>Never pay another penny for smartphone service.</p></a>
<a href="http://dockyard.com/work/coachup" class="work-nav-item"><strong class='work-nav-item__title'>CoachUp</strong><p>You should be training. Right now.</p></a>
<a href="http://dockyard.com/work/askthem" class="work-nav-item"><strong class='work-nav-item__title'>AskThem</strong><p>Ask officials questions on city, state, and federal levels.</p></a>
<a href="http://dockyard.com/work/beacon-hill-blitz" class="work-nav-item"><strong class='work-nav-item__title'>Beacon Hill Blitz</strong><p>How technology helped repeal the #TechTax.</p></a></nav></div></div><nav class='main-nav-wrap'><div class='main-nav l-wrap--wide'><a class="logo" href="http://dockyard.com">DockYard</a><a class="club-sandwich" data-icon="☰" href="#"><span class='is-hidden'>Navigation</span></a></div></nav></header><div class='push--header'></div><div class='l-wrap--blog'><a href="/"><strong class='logo--blog'>ReefPoints</strong><strong class='logo--blog__tagline'>Blog</strong></a><nav class='blog-nav'><a class="blog-nav__item " href="/">Posts</a><a class="blog-nav__item " href="/categories.html">Categories</a><a class="blog-nav__item " href="/authors.html">Authors</a></nav></div><div class='l-wrap--blog__post'><h1 class='post__title'>Vim: Staying on Home Row via Map</h1><a class="post__author" href="/authors/doug-yun.html">Doug Yun</a><time class='post__date'>September 11<sup>th</sup>, 2013</time><div class='post__content'><p>Here at DockYard, the majority of us are using Vim. I don&#39;t want to
write about the benefits of using this sweet editor, as that would take too long,
but instead, I&#39;d like to share a couple of my favorite mappings for
escaping and saving files.</p>

<h2>Vanilla Vim: Escaping and Saving</h2>

<p>Escaping out to <em>Normal</em> mode from the other modes in Vim is straightforward:
simply hit the <code>Esc</code> key.
Saving files is accomplished by, from <code>Normal</code> mode, pressing <code>:w</code> and then <code>Enter</code>.</p>

<h2>So... What&#39;s the Problem?</h2>

<p>During a session, especially when I&#39;m writing large pieces of text,
I&#39;d find myself in a repetitive rut:</p>

<ul>
<li>I just typed out a couple of sentences and want to save my progress</li>
<li>I&#39;d remove my left hand from home row to hit the <code>Esc</code> key</li>
<li>Saving the file required me, once again to leave home row, to hit <code>:w</code>
and then the <code>Enter</code> or the <code>Return</code> key</li>
<li>To continue on, I&#39;d press <code>i</code> and type along</li>
<li>Repeat, repeat, repeat...</li>
</ul>

<p>See where I&#39;m getting at?</p>

<h2>Let&#39;s Talk About Map</h2>

<p>Before we review and
<a href="http://www.flickr.com/search/?q=pasta">copy-pasta</a>
the portion of my <code>.vimrc</code>, let&#39;s briefly go over the very basics of the
pertinent map commands.
You can find the entire <a href="http://vimdoc.sourceforge.net/htmldoc/map.html">map documentation here</a>
or by typing <code>:help map</code> within a Vim session.</p>

<p>Protip: To open help texts into a full buffer, <code>:h map | only</code> or to open them in a separate tab <code>:tab h map</code>.</p>

<h3>Recursive Map</h3>

<p>First, we&#39;re going to talk about <em>recursive</em> map commands. A <em>recursive</em>
command will transform one result to another result, if there is another
binding to that key. An example can be found at the <code>.vimrc</code> below.</p>

<p>Here are the basic <em>recursive</em> map commands.</p>

<ul>
<li><code>map</code>  - command to transform the operation of typed keys within <em>ALL</em> modes</li>
</ul>

<p>You can prepend the first letter of the desired mode to <code>map</code>.</p>

<ul>
<li><code>nmap</code> - transform the operation of typed keys within <em>Normal</em>
mode</li>
<li><code>imap</code> - transform the operations of typed keys within
<em>Insert</em> mode</li>
<li><code>vmap</code> - transform the operations of typed keys within
<em>Visual</em> and <em>Select</em> mode</li>
</ul>

<p>For example, if I had this within my <code>.vimrc</code>:</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>&quot; ~/.vimrc
&quot;
&quot; Note: double quotes signifies comments

nmap 0 gg
imap n N

&quot; Time for a little recursive map
imap d D
imap D wat
</pre></td>
</tr></table>
</div></div>
<p>Since <code>0</code> is mapped to <code>gg</code> within <em>Normal</em> mode, I&#39;ll be sent to the
top of the file by pressing <code>0</code>.
Moreover, while in <em>Insert</em> mode, every character <code>n</code> that I type will turn into <code>N</code>.
Lastly, because of the recursive mapping, typing <code>d</code> in <em>Insert</em> mode
will return <code>wat</code>. You can think of it as something like: <code>d</code> =&gt; <code>D</code> =&gt;
<code>wat</code>.</p>

<p>Thankfully, there&#39;s a <em>non-recursive</em> map.</p>

<h3>Non-recursive Map</h3>

<p><em>Non-recursive</em> map commands are signified by adding <code>nore</code> after the
 mode modifier.</p>

<ul>
<li><code>nnoremap</code> - non-recursive map for <em>Normal</em> mode</li>
<li><code>inoremap</code> - non-recursive map for <em>Insert</em> mode</li>
<li><code>vnoremap</code> - non-recursive map for <em>Visual</em> and <em>Select</em> mode</li>
</ul>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>&quot; ~/.vimrc

inoremap c C
inoremap C nope
</pre></td>
</tr></table>
</div></div>
<p>Now, in <em>Insert</em> mode, if we type <code>c</code>, we will return <code>C</code>; the transformation of
<code>c</code> to <code>nope</code> will not occur.</p>

<h2>Enter the .vimrc</h2>

<p>Now that we got the basics out of the way, here is an example of my
<code>.vimrc</code>.</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre>&quot; ~/.vimrc
&quot; *** The Two Hand system ***
&quot;
&quot; &lt;Cr&gt; signifies the &quot;return&quot; key

inoremap ;a &lt;Esc&gt;
inoremap ;d &lt;Esc&gt;:update&lt;Cr&gt;
inoremap ;f &lt;C-O&gt;:update&lt;Cr&gt;
nnoremap ;f :update&lt;CR&gt;
</pre></td>
</tr></table>
</div></div>
<p>I&#39;m using <code>:update</code> here, which is &quot;like <code>:write</code>, but only write when the buffer has been
modified.&quot;</p>

<p>Let&#39;s go over these mappings.</p>

<p>The first one, <code>inoremap ;a &lt;Esc&gt;</code> maps the <em>semi-colon</em> and <em>a</em> key
together when in <em>Insert</em> mode. By pressing <code>;</code> and then <code>a</code> immediately afterwards, we mimic
the functionality of the <em>Escape</em> key.</p>

<p>The second map, <code>inoremap ;d &lt;Esc&gt;:update&lt;Cr&gt;</code> maps the <em>semi-colon</em> and the <em>d</em> key.
Pressing <code>;</code> and then <code>d</code> immediately afterwards returns the sequence of:</p>

<ul>
<li>From <em>Insert</em> mode, escape to <em>Normal</em> mode</li>
<li>Type <code>:</code> to get inside the <em>Command</em> mode, and type the <code>update</code>
command</li>
<li>Complete the sequence by &quot;hitting&quot; <em>Return</em>, thus saving the file</li>
</ul>

<p>The third map command, <code>inoremap ;f &lt;C-O&gt;:update&lt;Cr&gt;</code>, allows us to
type <code>;</code> and then <code>f</code> to return:</p>

<ul>
<li>From <em>Insert</em> mode, escape out to <em>Normal</em> with <code>&lt;C-O&gt;</code>, which allows
us to escape out for <em>ONE</em> command.</li>
<li>Type <code>:</code> to get inside <em>Command</em> mode, and then type <code>udpate</code>. This is
our one command for <code>&lt;C-O&gt;</code></li>
<li>&quot;Hit&quot; the <em>Return</em>, thus saving the file</li>
<li>We&#39;re back in <em>Insert</em> mode, thanks to <code>&lt;C-O&gt;</code></li>
</ul>

<p>Finally, the <code>nnoremap ;f :update&lt;CR&gt;</code> mapping means by typing <code>;</code> and
then <code>f</code> in <em>Normal</em> mode, it will result in:</p>

<ul>
<li>Since, we&#39;re already in <em>Normal</em> mode, we get into <em>Command</em> mode by
typing <code>:</code></li>
<li>Type the <code>update</code> command</li>
<li>&quot;Hit&quot; the <em>Return</em> key, and save the file</li>
<li>We remain in <em>Normal</em> mode</li>
</ul>

<p>The snippet below restricts these commands to your right hand.</p>
<div class="highlight  "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>&quot; ~/.vimrc
&quot; *** The Right Hand system ***

inoremap ;l &lt;Esc&gt;
inoremap ;k &lt;Esc&gt;:update&lt;Cr&gt;
inoremap ;j &lt;C-O&gt;:update&lt;Cr&gt;
nnoremap ;j :update&lt;CR&gt;
</pre></td>
</tr></table>
</div></div>
<p>As you can see, I kept <code>;</code> as a prefix to my map commands. This
conveniently keeps me at homerow. I&#39;ve played with mapping everything
with my right hand, but it just didn&#39;t feel &quot;right&quot; (apologies for the
bad pun).</p>

<p>Overall, this snippet makes me happy and I believe this will make your
day as well. If there are some other tricks
concerning escaping and saving files, please let me know in the
comments! Thanks!</p>
</div><div class='post__share'><a class='twitter-share-button' data-url='http://reefpoints.dockyard.com/2013/09/11/vim-staying-on-home-row-via-map.html' data-via='DockYard' href='https://twitter.com/share'>Tweet</a><script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');
</script><div class='g-plusone' data-href='#' data-size='medium' data-width='100'></div><script>
  (function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
</script><span class='post__share--github'>If you see an issue, please send a <a href='https://github.com/dockyard/reefpoints/blob/master/source/posts/', class='text-link post__issue', target: '_blank'>pull request</a> to contribute.</span></div><div class='related-posts-wrap'><div class='post__avatar-wrap'><img class='post__avatar' src='/images/team/doug-yun.jpg'><h5 class='post__avatar__name'>Doug Yun</h5><h5 class='post__avatar__position headline--sub'>Developer At DockYard
</h5><nav class='post__avatar__social-links'><a target="_blank" class="post__avatar__social-link--twitter" data-icon="#" href="http://twitter.com/DougYun">DougYun</a><a target="_blank" class="post__avatar__social-link--github" data-icon="★" href="https://github.com/duggiefresh">duggiefresh</a></nav></div><div class='related-posts'><h3 class='related-posts__header headline--sub'>Other posts by Doug</h3><a class="related-post" href="/2015/02/04/vim-jump-jump-jump.html"><h2 class='related-post__title'>Vim: Jump, Jump, Jump!</h2><p>February 4<sup>th</sup>, 2015</p></a>
<a class="related-post" href="/2014/04/10/vim-on-your-mark.html"><h2 class='related-post__title'>Vim: On Your Mark...</h2><p>April 10<sup>th</sup>, 2014</p></a>
<a class="related-posts-link text-link" href="/authors/doug-yun.html">See all 12 posts by Doug</a></div></div><p class='post__tags'><a class="post__tag" href="/categories/vim.html">Vim&nbsp;<span class='post__tag__count'>(7)</span></a> <a class="post__tag" href="/categories/workflow.html">Workflow&nbsp;<span class='post__tag__count'>(9)</span></a></p><div id='disqus_thread'></div><script>
  var disqus_shortname = 'reefpoints';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script><noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus</a>.</noscript></noscript><script>
  var path = window.location.pathname.split('/').reverse();
  var postname = path[0].split('.');
  var change = postname[0] + '.md';
  var newpath = 'https://github.com/dockyard/reefpoints/blob/master/source/posts/' + path[3] + '-' + path[2] + '-' + path[1] + '-' + change
  $('.post__issue').attr('href', newpath);
</script></div><div class='push--footer'></div><footer><div class='l-wrap'><div class='l-footer-group'><h3 class='footer-group__title'>EVENTS</h3><a class="footer__event--wgc" target="_blank" href="http://wickedgoodember.com/">Wicked Good Ember Conf</a><a class="footer__event--ember" target="_blank" href="http://www.meetup.com/Boston-Ember-js/">Boston Ember.js Meetup</a><a class="footer__event--openhack" target="_blank" href="http://openhack.github.io/boston/">OpenHack Boston</a><a class="footer__event--ux" target="_blank" href="http://www.meetup.com/uxboston/">UX Boston Meetup</a><a class="footer__event--swift" target="_blank" href="http://www.meetup.com/Boston-Swift/">Boston Swift</a><a class="footer__event--uxhh" target="_blank" href="http://www.uxhappyhour.com/bos">UX Happy Hour</a></div><div class='l-footer-group'><a href="/"><h3 class='footer-group__title'>BLOG</h3></a>
<a class="footer__post" href="/2015/06/02/ember-crumbly.html"><strong>Declarative Breadcrumb Navigation in Ember.js</strong><h6 class='footer-desc'>ember-crubmly is a simple Component that is placed once in your application, and then generates a dynamic breadcrumb by looking up the current route hierarchy. The addon has a simple declarative API, which makes integration with your app super easy.</h6></a>
<a class="footer__post" href="/2015/05/29/announcing-voorhees.html"><strong>Announcing Voorhees</strong><h6 class='footer-desc'>Voorhees is a library for testing Phoenix JSON APIs</h6></a>
<a class="footer__post" href="/2015/05/22/begin-with-benchmarking.html"><strong>Begin with Benchmarking</strong><h6 class='footer-desc'>Utilizing design research strategies</h6></a></div><div class='l-footer-group'><a href="http://dockyard.com/hire-us"><h3 class='footer-group__title'>CONTACT</h3></a><h6 class='footer-desc'>DockYard HQ is located in Boston. Stop in sometime and meet our team!</h6><a class="footer__address" target="_blank" href="http://goo.gl/maps/zBGfn"><h6>DockYard Inc.<br>294 Washington St<br>Suite 1150<br>Boston, MA 02108</h6></a>
<a class="text-link" href="http://dockyard.com/hire-us">Get in touch.</a><div class='social-links--footer'><a target="_blank" data-icon="#" class="social-link" href="https://twitter.com/dockyard"><span class='is-hidden'>Twitter</span></a>
<a target="_blank" data-icon="★" class="social-link" href="https://github.com/dockyard"><span class='is-hidden'>GitHub</span></a>
<a target="_blank" data-icon="✒" class="social-link" href="/atom.xml"><span class='is-hidden'>RSS</span></a></div></div></div></footer><script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'reefpoints'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script></body></html>
